# Daily Learnings - 2026-01-31

> Next.js 16 + React 19 ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì—…

---

## ğŸ“š ì˜¤ëŠ˜ ë°°ìš´ ê°œë…

| #   | ê°œë…                 | í•œì¤„ ì„¤ëª…                                               |
| --- | -------------------- | ------------------------------------------------------- |
| 1   | useOptimistic        | React 19ì˜ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ í›…                           |
| 2   | Async Request APIs   | Next.js 16ì—ì„œ params, searchParams ë“±ì´ Promiseë¡œ ë³€ê²½ |
| 3   | proxy.ts             | Next.js 16ì—ì„œ middleware.tsë¥¼ ëŒ€ì²´í•˜ëŠ” ìƒˆ íŒŒì¼ëª…       |
| 4   | ESLint 9 Flat Config | .eslintrc.json â†’ eslint.config.mjsë¡œ ë³€ê²½               |
| 5   | use cache            | Next.js 16ì˜ ì„œë²„ ìºì‹± ë””ë ‰í‹°ë¸Œ                         |
| 6   | startTransition      | useOptimisticê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ë¹„ë™ê¸° íŠ¸ëœì§€ì…˜           |

---

## 1. useOptimistic (React 19)

ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” í›…. ì„œë²„ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ì‹œ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , ì—ëŸ¬ ì‹œ ìë™ ë¡¤ë°±.

```tsx
"use client";
import { useState, useOptimistic, startTransition } from "react";

function FavoriteButton({ initialFavorite }: { initialFavorite: boolean }) {
  const [actualFavorite, setActualFavorite] = useState(initialFavorite);
  const [optimisticFavorite, setOptimisticFavorite] = useOptimistic(actualFavorite);

  const toggle = () => {
    startTransition(async () => {
      setOptimisticFavorite(!actualFavorite); // ì¦‰ì‹œ UI ë°˜ì˜
      try {
        const result = await toggleFavoriteAPI();
        setActualFavorite(result); // ì„±ê³µ ì‹œ ë™ê¸°í™”
      } catch {
        // ì—ëŸ¬ ì‹œ ìë™ ë¡¤ë°± (actualFavoriteìœ¼ë¡œ ë³µì›)
      }
    });
  };

  return <button onClick={toggle}>{optimisticFavorite ? "â¤ï¸" : "ğŸ¤"}</button>;
}
```

**í•µì‹¬ í¬ì¸íŠ¸:**

- `startTransition` ë‚´ì—ì„œ ì‚¬ìš©í•´ì•¼ ìë™ ë¡¤ë°± ë™ì‘
- `mutateAsync` (React Query)ì™€ í•¨ê»˜ ì‚¬ìš© ê°€ëŠ¥
- ê¸°ì¡´ ìˆ˜ë™ ë¡¤ë°± ì½”ë“œ ëŒ€ì²´

---

## 2. Async Request APIs (Next.js 16)

Next.js 16ì—ì„œ `params`, `searchParams`, `cookies()`, `headers()`ê°€ ëª¨ë‘ ë¹„ë™ê¸°ë¡œ ë³€ê²½.

```tsx
// âŒ Next.js 14
export default function Page({ params }: { params: { id: string } }) {
  const id = params.id;
}

// âœ… Next.js 16
export default async function Page({ params }: { params: Promise<{ id: string }> }) {
  const { id } = await params;
}
```

**ì˜í–¥ë°›ëŠ” API:**

- `params` â†’ `Promise<params>`
- `searchParams` â†’ `Promise<searchParams>`
- `cookies()` â†’ `await cookies()`
- `headers()` â†’ `await headers()`

---

## 3. middleware.ts â†’ proxy.ts

Next.js 16ì—ì„œ Middleware íŒŒì¼ëª…ì´ ë³€ê²½ë¨.

Next.js 16ì—ì„œ proxy.tsëŠ” ê¸°ì¡´ middleware.tsë¥¼ ëŒ€ì²´í•˜ëŠ” íŒŒì¼ë¡œ, ì„œë²„ë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì„ ê°€ë¡œì±„ì„œ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

```typescript
// src/proxy.ts (êµ¬ middleware.ts)
import { NextResponse } from "next/server";
import type { NextRequest } from "next/server";

// í•¨ìˆ˜ëª…ë„ ë³€ê²½: middleware â†’ proxy (default export)
export default function proxy(request: NextRequest) {
  // ë¡œì§ ë™ì¼
  return NextResponse.next();
}

export const config = {
  matcher: ["/((?!api|_next/static|_next/image|favicon.ico).*)"],
};
```

---

## 4. ESLint 9 Flat Config

ESLint 9ì—ì„œ ì„¤ì • íŒŒì¼ í˜•ì‹ì´ ì™„ì „íˆ ë³€ê²½ë¨.

```javascript
// eslint.config.mjs (êµ¬ .eslintrc.json)
import nextConfig from "eslint-config-next";
import coreWebVitals from "eslint-config-next/core-web-vitals";
import tsConfig from "eslint-config-next/typescript";

const eslintConfig = [
  ...nextConfig,
  ...coreWebVitals,
  ...tsConfig,
  {
    rules: {
      "no-console": ["warn", { allow: ["warn", "error"] }],
    },
  },
];

export default eslintConfig;
```

**ì£¼ìš” ë³€ê²½:**

- `.eslintrc.json` ì‚­ì œ
- `eslint.config.mjs` ìƒì„±
- `extends` â†’ spread ë¬¸ë²•ìœ¼ë¡œ ë°°ì—´ ë³‘í•©
- `--ext` í”Œë˜ê·¸ ë¶ˆí•„ìš”

---

## 5. React Query ìºì‹œ vs use cache

| êµ¬ë¶„      | React Query           | use cache          |
| --------- | --------------------- | ------------------ |
| ì‹¤í–‰ ìœ„ì¹˜ | í´ë¼ì´ì–¸íŠ¸ (ë¸Œë¼ìš°ì €) | ì„œë²„               |
| ì €ì¥ ìœ„ì¹˜ | ë¸Œë¼ìš°ì € ë©”ëª¨ë¦¬       | ì„œë²„ ìŠ¤í† ë¦¬ì§€      |
| ê³µìœ  ë²”ìœ„ | ê°œì¸ (ì‚¬ìš©ìë³„)       | ê³µìœ  (ëª¨ë“  ì‚¬ìš©ì) |
| ìš©ë„      | ë™ì /ê°œì¸í™” ë°ì´í„°    | ì •ì /ê³µìš© ë°ì´í„°   |

**ê²°ë¡ :** ìœ„ì¹˜ ê¸°ë°˜ ê°€ê²Œ ëª©ë¡ì²˜ëŸ¼ ë™ì  ë°ì´í„°ëŠ” React Queryê°€ ì í•©

---

## 6. Directive ë¬¸ë²•

```tsx
// âœ… ì˜¬ë°”ë¥¸ ë¬¸ë²•
"use server";
"use client";
"use cache";

// âŒ ì˜ëª»ëœ ë¬¸ë²• (Prettierê°€ ë³€í™˜í•  ìˆ˜ ìˆìŒ)
("use server");
("use client");

// í•´ê²°: prettier-ignore ì‚¬ìš©
// prettier-ignore
"use server";
```

---

## ğŸ§ª í€´ì¦ˆ

**Q1. Next.js 16ì—ì„œ `params`ì˜ íƒ€ì…ì€?**

- A) `{ id: string }`
- B) `Promise<{ id: string }>`
- C) `Awaited<{ id: string }>`
- D) `AsyncParams<{ id: string }>`

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
B) Promise<{ id: string }>
</details>

---

**Q2. `useOptimistic`ì„ ì‚¬ìš©í•  ë•Œ ìë™ ë¡¤ë°±ì´ ì‘ë™í•˜ë ¤ë©´ ì–´ë–¤ í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?**

- A) useEffect
- B) useCallback
- C) startTransition
- D) useMemo

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
C) startTransition
</details>

---

**Q3. Next.js 16ì—ì„œ middleware.ts íŒŒì¼ëª…ì´ ë¬´ì—‡ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë‚˜ìš”?**

- A) edge.ts
- B) proxy.ts
- C) handler.ts
- D) router.ts

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
B) proxy.ts
</details>

---

**Q4. (O/X) ESLint 9ì—ì„œëŠ” `.eslintrc.json` íŒŒì¼ì„ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.**

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
X - ESLint 9ëŠ” ìƒˆë¡œìš´ flat config í˜•ì‹(eslint.config.mjs)ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
</details>

---

**Q5. React Query ìºì‹œì™€ `use cache`ì˜ ì°¨ì´ì  ì¤‘ í‹€ë¦° ê²ƒì€?**

- A) React QueryëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ, use cacheëŠ” ì„œë²„ì—ì„œ ì‹¤í–‰
- B) React QueryëŠ” ì‚¬ìš©ìë³„ ê°œì¸ ìºì‹œ, use cacheëŠ” ê³µìœ  ìºì‹œ
- C) ë‘˜ ë‹¤ ë™ì¼í•œ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•œë‹¤
- D) ìœ„ì¹˜ ê¸°ë°˜ ë™ì  ë°ì´í„°ëŠ” React Queryê°€ ë” ì í•©í•˜ë‹¤

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
C) ë‘˜ ë‹¤ ë™ì¼í•œ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•œë‹¤ - React QueryëŠ” ë¸Œë¼ìš°ì € ë©”ëª¨ë¦¬, use cacheëŠ” ì„œë²„ ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
</details>

---

## ì°¸ê³  ìë£Œ

- [Next.js 16 ê³µì‹ ë¸”ë¡œê·¸](https://nextjs.org/blog/next-16)
- [React 19 ìƒˆ ê¸°ëŠ¥](https://react.dev/blog/2024/12/05/react-19)
- [ESLint 9 Migration Guide](https://eslint.org/docs/latest/use/configure/migration-guide)
